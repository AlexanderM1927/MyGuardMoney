(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{2809:function(t,e,a){"use strict";var n=a("45c3"),o=a.n(n);o.a},"45c3":function(t,e,a){},"713b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"lHh Lpr lFf"}},[a("q-header",{staticClass:"bg-green",attrs:{elevated:""}},[a("q-toolbar",[a("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),a("q-toolbar-title",[t._v("\n        MyGuardMoney\n      ")])],1)],1),a("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-green text-white"},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[a("q-list",[a("q-item-label",{staticClass:"text-white",attrs:{header:""}}),t._l(t.essentialLinks,(function(e){return a("EssentialLink",t._b({key:e.title,attrs:{view:t.view}},"EssentialLink",e,!1))}))],2)],1),a("q-page-container",["gastos"===t.view?a("gastos"):t._e(),"tipos-gastos"===t.view?a("tipos-gastos"):t._e(),"analisis"===t.view?a("analisis"):t._e()],1)],1)},o=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-item",{class:t.view===t.link?"marked":"",attrs:{clickable:"",tag:"a",target:"_blank"},on:{click:function(e){return t.goTo(t.link)}}},[t.icon?a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:t.icon}})],1):t._e(),a("q-item-section",[a("q-item-label",[t._v(t._s(t.title))]),a("q-item-label",{attrs:{caption:""}},[t._v("\n      "+t._s(t.caption)+"\n    ")])],1)],1)},s=[],i=(a("a15b"),a("26e9"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("1276"),a("96cf"),a("c973")),c=a.n(i),l=a("cf57"),u=a("4515"),p=a("af0d"),d={data:function(){return{db:{}}},created:function(){this.db=new p["a"]("db")},methods:{addToCollection:function(t,e){this.db.collection(t).add(e).then((function(t){console.log("Agregado")})).catch((function(t){console.log(t)}))},getDataCollection:function(t){var e=arguments,a=this;return c()(regeneratorRuntime.mark((function n(){var o,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e.length>1&&void 0!==e[1]?e[1]:"",r=e.length>2&&void 0!==e[2]?e[2]:"",s=[],""!==o||""!==r){n.next=8;break}return n.next=6,a.db.collection(t).get().then((function(t){s=t}));case 6:n.next=10;break;case 8:return n.next=10,a.db.collection(t).orderBy(o,r).get().then((function(t){s=t}));case 10:return n.abrupt("return",s);case 11:case"end":return n.stop()}}),n)})))()},getDataCollectionByNombre:function(t,e){var a=arguments,n=this;return c()(regeneratorRuntime.mark((function o(){var r,s,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:"",s=a.length>3&&void 0!==a[3]?a[3]:"",i=[],""!==r||""!==s){o.next=8;break}return o.next=6,n.db.collection(t).doc({nombre:e}).get().then((function(t){i=t}));case 6:o.next=10;break;case 8:return o.next=10,n.db.collection(t).doc({nombre:e}).orderBy(r,s).get().then((function(t){i=t}));case 10:return o.abrupt("return",i);case 11:case"end":return o.stop()}}),o)})))()},deleteDataCollection:function(t,e){var a=this;return c()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.db.collection(t).doc({id:e}).delete().then((function(t){console.log("Delete successful, now do something.")})).catch((function(t){console.log(t)}));case 1:case"end":return n.stop()}}),n)})))()},isNumber:function(t){return!isNaN(parseFloat(t))&&!isNaN(t-0)},miles:function(t){if(void 0!==t){var e=t.replace(/\./g,"");return this.isNumber(t)?isNaN(e)||(e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[.]/,"")):e="",e}},goTo:function(t){this.$router.push("/"+t).catch((function(t){t._name}))},alert:function(t,e){this.$q.notify({message:e,color:t})},activateLoading:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={message:t};1===e?a.spinner=l["a"]:2===e&&(a.spinner=u["a"]),this.$q.loading.show(a)},disableLoading:function(){this.$q.loading.hide()}}},m={name:"EssentialLink",mixins:[d],props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""},view:{type:String,default:""}}},f=m,h=(a("2809"),a("2877")),g=a("66e5"),b=a("4074"),v=a("0016"),y=a("0170"),w=a("eebe"),x=a.n(w),k=Object(h["a"])(f,r,s,!1,null,"1f122eb0",null),q=k.exports;x()(k,"components",{QItem:g["a"],QItemSection:b["a"],QIcon:v["a"],QItemLabel:y["a"]});var C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[t.options.length>0?a("q-form",{on:{submit:t.save}},[a("q-input",{attrs:{inputmode:"numeric",color:"green",label:"Valor"},on:{keyup:function(e){return t.milesInput()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"attach_money"}})]},proxy:!0}],null,!1,2568092296),model:{value:t.gasto.valor,callback:function(e){t.$set(t.gasto,"valor",e)},expression:"gasto.valor"}}),a("br"),a("q-input",{attrs:{color:"green",label:"Nombre"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:t.gasto.nombre,callback:function(e){t.$set(t.gasto,"nombre",e)},expression:"gasto.nombre"}}),a("br"),a("q-select",{attrs:{options:t.options,label:"Tipo",required:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"account_balance"}})]},proxy:!0}],null,!1,4264257012),model:{value:t.gasto.tipo,callback:function(e){t.$set(t.gasto,"tipo",e)},expression:"gasto.tipo"}}),a("br"),a("q-input",{attrs:{color:"green",label:"Fecha y hora",required:"",rules:[function(t){return!!t||"Tienes que llenar este campo"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format24h:""},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1)],1)]},proxy:!0}],null,!1,3771727303),model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}}),a("br"),a("q-btn",{staticClass:"full-width",attrs:{label:"Agregar",type:"submit",color:"positive"}})],1):a("div",[t._v("\n            Para comenzar, debes ingresar un tipo de gasto.\n          ")]),a("br"),a("q-separator"),a("br"),a("q-table",{staticClass:"table",attrs:{dense:t.$q.screen.lt.md,data:t.data,columns:t.columns,"row-key":"name"},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"tipo",attrs:{props:e}},[t._v("\n                  "+t._s(t.getNombre(e.row.tipo))+"\n                ")]),a("q-td",{key:"nombre",attrs:{props:e}},[t._v("\n                  "+t._s(e.row.nombre)+"\n                ")]),a("q-td",{key:"valor",attrs:{props:e}},[t._v("\n                  "+t._s(t.miles(e.row.valor))+"\n                ")]),a("q-td",{key:"fecha",attrs:{props:e}},[t._v("\n                  "+t._s(e.row.fecha)+"\n                ")]),a("q-td",{key:"ops",attrs:{props:e}},[a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return t.del(e.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[t._v("eliminar")])],1)])],1)]}}])})],1),a("div",{staticClass:"col-1"})])])},_=[],D=(a("c740"),a("a434"),a("bd4c")),T={name:"gastos",mixins:[d],data:function(){return{gasto:{},options:[],data:[],columns:[{name:"tipo",align:"center",label:"Tipo",field:"tipo",sortable:!0},{name:"nombre",align:"center",label:"Nombre",field:"nombre",sortable:!0},{name:"valor",align:"center",label:"Valor",field:"valor",sortable:!0},{name:"fecha",align:"center",label:"Fecha",field:"fecha",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],fecha:D["b"].formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss")}},created:function(){this.getData(),this.getTypes()},methods:{getTypes:function(){var t=this;return c()(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getDataCollection("tipos");case 2:for(a=e.sent,n=0;n<a.length;n++)t.options.push(a[n].nombre);case 4:case"end":return e.stop()}}),e)})))()},getData:function(){var t=this;return c()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getDataCollection("gastos","id","desc");case 2:t.data=e.sent;case 3:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return c()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""===t.gasto.valor){e.next=11;break}return t.gasto.id=Date.now(),t.gasto.valor=t.gasto.valor.replace(/\./g,""),e.next=5,t.getDataCollectionByNombre("tipos",t.gasto.tipo);case 5:t.gasto.tipo=e.sent,t.gasto.fecha=t.fecha,t.addToCollection("gastos",t.gasto),t.data.push(t.gasto),t.gasto={},t.gasto.fecha=D["b"].formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss");case 11:case"end":return e.stop()}}),e)})))()},del:function(t){var e=this;return c()(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.data.findIndex((function(e){return e.id===t})),e.data.splice(n,1),a.next=4,e.deleteDataCollection("gastos",t);case 4:case"end":return a.stop()}}),a)})))()},getNombre:function(t){var e="";return e=void 0!==t?t.nombre:t,e},milesInput:function(){this.gasto.valor=this.miles(this.gasto.valor)}}},Q=T,M=a("0378"),G=a("27f9"),R=a("ddd8"),O=a("7cbe"),S=a("52ee"),$=a("ca78"),I=a("9c40"),N=a("eb85"),Y=a("eaac"),B=a("bd08"),L=a("db86"),E=a("05c0"),H=Object(h["a"])(Q,C,_,!1,null,null,null),j=H.exports;x()(H,"components",{QForm:M["a"],QInput:G["a"],QIcon:v["a"],QSelect:R["a"],QPopupProxy:O["a"],QDate:S["a"],QTime:$["a"],QBtn:I["a"],QSeparator:N["a"],QTable:Y["a"],QTr:B["a"],QTd:L["a"],QTooltip:E["a"]});var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("q-form",{on:{submit:t.save}},[a("q-input",{attrs:{color:"green",required:"",label:"Nombre"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"account_balance"}})]},proxy:!0}]),model:{value:t.type.nombre,callback:function(e){t.$set(t.type,"nombre",e)},expression:"type.nombre"}}),a("br"),a("q-input",{staticClass:"my-input",attrs:{label:"Color",required:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"palette"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-color",{model:{value:t.type.color,callback:function(e){t.$set(t.type,"color",e)},expression:"type.color"}})],1)],1)]},proxy:!0}]),model:{value:t.type.color,callback:function(e){t.$set(t.type,"color",e)},expression:"type.color"}}),a("br"),a("q-btn",{staticClass:"full-width",attrs:{type:"submit",label:"Agregar",color:"positive"}})],1),a("br"),a("q-separator"),a("div",{staticClass:"text-h6"},[t._v("Tipos actuales")]),a("q-table",{staticClass:"table",attrs:{dense:t.$q.screen.lt.md,data:t.data,columns:t.columns,"row-key":"name"},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"name",attrs:{props:e}},[t._v("\n                    "+t._s(e.row.nombre)+"\n                  ")]),a("q-td",{key:"ops",attrs:{props:e}},[a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return t.del(e.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[t._v("eliminar")])],1)])],1)]}}])})],1),a("div",{staticClass:"col-1"})])])},F=[],P={name:"gastos",mixins:[d],data:function(){return{type:{},columns:[{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],data:[]}},mounted:function(){this.getData()},methods:{save:function(){""!==this.type.nombre?(this.type.id=Date.now(),this.addToCollection("tipos",this.type),this.data.push(this.type),this.type={}):this.alert("negative","El nombre es obligatorio")},getData:function(){var t=this;return c()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getDataCollection("tipos","id","desc");case 2:t.data=e.sent;case 3:case"end":return e.stop()}}),e)})))()},del:function(t){var e=this;return c()(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.data.findIndex((function(e){return e.id===t})),e.data.splice(n,1),a.next=4,e.deleteDataCollection("tipos",t);case 4:case"end":return a.stop()}}),a)})))()}}},z=P,U=a("b498"),V=Object(h["a"])(z,A,F,!1,null,null,null),J=V.exports;x()(V,"components",{QForm:M["a"],QInput:G["a"],QIcon:v["a"],QPopupProxy:O["a"],QColor:U["a"],QBtn:I["a"],QSeparator:N["a"],QTable:Y["a"],QTr:B["a"],QTd:L["a"],QTooltip:E["a"]});var W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("highcharts",{attrs:{options:t.chartOptions1}}),a("highcharts",{attrs:{options:t.chartOptions2}})],1),a("div",{staticClass:"col-1"})])])},K=[],X=a("4452"),Z={name:"gastos",mixins:[d],components:{highcharts:X["Chart"]},data:function(){return{dataTipos:[],dataGastos:[],chartOptions1:{chart:{type:"area"},title:{text:"Gastos este mes"},xAxis:{categories:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},yAxis:{title:{text:"Valor"}},plotOptions:{line:{dataLabels:{enabled:!0},enableMouseTracking:!1},area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#E9BC36"]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},series:[{name:"Gastos",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],color:"#E9BC36"}]},chartOptions2:{colorAxis:{minColor:"#F2f2f2",maxColor:"#E9BC36"},series:[{type:"treemap",layoutAlgorithm:"squarified",data:[{name:"",value:"1",color:"#E9BC36"}]}],title:{text:"Gastos por categoria"}}}},mounted:function(){var t=this;return c()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getData();case 2:t.organiceByType(),t.organiceByMonth();case 4:case"end":return e.stop()}}),e)})))()},methods:{getData:function(){var t=this;return c()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getDataCollection("tipos","id","desc");case 2:return t.dataTipos=e.sent,e.next=5,t.getDataCollection("gastos","id","desc");case 5:t.dataGastos=e.sent,t.dataGastosMes=t.justThisMonth(t.dataGastos);case 7:case"end":return e.stop()}}),e)})))()},organiceByType:function(){this.chartOptions2.series[0].data=[];for(var t=0;t<this.dataTipos.length;t++){this.dataTipos[t].valor=0;for(var e=0;e<this.dataGastosMes.length;e++)this.dataTipos[t].id===this.dataGastosMes[e].tipo.id&&(this.dataTipos[t].valor+=parseInt(this.dataGastosMes[e].valor));this.chartOptions2.series[0].data.push({name:this.dataTipos[t].nombre,value:this.dataTipos[t].valor,color:this.dataTipos[t].color})}},organiceByMonth:function(){for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<this.dataGastosMes.length;e++){var a=new Date(this.dataGastosMes[e].fecha),n=a.getUTCDate()-1;0===t[n]?t[n]=parseInt(this.dataGastosMes[e].valor):t[n]+=parseInt(this.dataGastosMes[e].valor)}this.chartOptions1.series[0].data=t},justThisMonth:function(t){for(var e=new Date,a=[],n=0;n<this.dataGastos.length;n++)new Date(this.dataGastos[n].fecha).getUTCMonth()===e.getUTCMonth()&&a.push(this.dataGastos[n]);return a}}},tt=Z,et=Object(h["a"])(tt,W,K,!1,null,null,null),at=et.exports,nt=[{title:"Gastos",icon:"attach_money",link:"gastos"},{title:"Tipos gastos",icon:"article",link:"tipos-gastos"},{title:"Analisis",icon:"analytics",link:"analisis"}],ot={name:"MainLayout",components:{EssentialLink:q,Gastos:j,TiposGastos:J,Analisis:at},mixins:[d],data:function(){return{leftDrawerOpen:!1,essentialLinks:nt}},props:["view"]},rt=ot,st=a("4d5a"),it=a("e359"),ct=a("65c6"),lt=a("6ac5"),ut=a("9404"),pt=a("1c1c"),dt=a("09e3"),mt=Object(h["a"])(rt,n,o,!1,null,null,null);e["default"]=mt.exports;x()(mt,"components",{QLayout:st["a"],QHeader:it["a"],QToolbar:ct["a"],QBtn:I["a"],QToolbarTitle:lt["a"],QDrawer:ut["a"],QList:pt["a"],QItemLabel:y["a"],QPageContainer:dt["a"]})}}]);